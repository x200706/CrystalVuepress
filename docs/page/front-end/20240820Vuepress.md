# 20240820 Vuepressåˆå§‹é…ç½®ç ”ç©¶
>å‰æï¼šç¶­æŒä½¿ç”¨å®˜æ–¹ä¸»é¡Œ

æ‹¿åˆ°ä¸€å€‹Vuepresså°±æƒ³æ”¹æˆè‡ªå·±å–œæ­¡çš„æ¨£å­ï¼Œä½†ç¿»é–±æ–‡ä»¶ï¼Œç¸½è¦ºå¾—é€™å€‹éç¨‹ä¹Ÿä¸æ˜¯é€™éº¼ç›´è§€ï¼Œåœ¨æ­¤åšå€‹ç´€éŒ„

## 1. ä¸è¦ç”¨åŸæœ¬çš„é¦–é 
æŠŠ`docs/README.md`å»é™¤ä¸Šæ–¹çš„[frontmatter](https://v1.vuepress.vuejs.org/guide/frontmatter.html)ï¼Œç„¶å¾Œå…§æ–‡æ”¹ç‚ºè‡ªå·±çš„ï¼Œå¯ä»¥åŠ å€‹H1æ¨™é¡Œï¼Œä¾‹å¦‚`#é¦–é `ä¹‹é¡çš„ï¼ŒVuepressä¹‹å¾Œåœ¨sidebaræœƒè‡ªå‹•åµæ¸¬ï¼Œé —æœ‰å¦™ç”¨

é‚„æ²’å®Œ
### 1.1 æ¥è‘—é‚„è¦ä¿®æ”¹é ­éƒ¨æ¬„
ç§»å‹•åˆ°`/docs/.vuepress/config.ts`æ‰¾åˆ°`theme: defaultTheme`é€™æ®µï¼Œä¿®æ”¹navbarçš„è¨­å®š

æˆ‘æ˜¯é€™æ¨£å¯«
```js
    navbar: [ // é ­é ‚æ¬„
      {
        text: "ForbiddenMagic",
        // notice the trailing / (for the automatic next and prev links based on the sidebar)
        link: "/",
      },
    ],
```
é ­éƒ¨æ¬„æ•ˆæœï¼š
```
ForbiddenMagic äº®æš—åˆ‡æ›æŒ‰éˆ• æœå°‹æ¡†
```
é»**ForbiddenMagic**æœƒé€²åˆ°å‰›å‰›æ”¹çš„`docs/README.md`

åƒè€ƒè³‡æ–™ï¼š[https://stackoverflow.com/questions/64955892/disable-vuepress-homepage-and-redirect-to-guide](https://stackoverflow.com/questions/64955892/disable-vuepress-homepage-and-redirect-to-guide)ï¼Œä¹Ÿå¯ä»¥å»GitHubæ‰¾æ„Ÿèˆˆè¶£çš„Vuepressç¶²ç«™çš„`config.ts`ï¼ˆæˆ–`config.js`ï¼‰ä¾†çœ‹

## 2. ä¿®æ”¹é è…³
ä¿®æ”¹`docs/.vuepress/components`ä¸‹æ–¹å…©å€‹é è…³æª”æ¡ˆï¼ˆä¸€å€‹æ˜¯å…§æ–‡é é¢çš„ï¼Œä¸€å€‹æ˜¯é¦–é é€ å‹é é¢ï¼ˆmdå–®æª”frontmatterä¸­`home: true`çš„é é¢ï¼‰çš„ï¼‰

é è…³åŸå§‹ç¢¼ï¼š
```js
<template>
  <div class="push"></div>
  <div class="footer center">
    <div>
      By Crystal {{ year }}
    </div>
  </div>
</template>
<script>
const d = new Date()
const currentYear = d.getFullYear()
export default {
  data() {
    return {
      year: currentYear
    }
  }
}
</script>
```

é¡¯ç¤ºæ•ˆæœï¼š
```
By Crystal 2024
```

>è¨»ï¼šVuepressé‚„æœ‰å€‹ç‰¹è‰²å°±æ˜¯å¯ä»¥[åœ¨ç­†è¨˜ä¸­å¯«vue](https://v1.vuepress.vuejs.org/zh/guide/using-vue.html#%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95)

## 3. ä¿®æ”¹ç¶²ç«™æ¨™é¡Œï¼iconï¼404ç•«é¢
ç¶²ç«™æ¨™é¡Œæ”¹é€™é‚Š
```js
export default defineUserConfig({
  lang: "zh-TW", // å°äº†æˆ‘é‚„æœ‰æ”¹ç¶²ç«™èªè¨€
  title: "ForbiddenMagic",
```

ä¸»é¡Œiconï¼404ç•«é¢æ”¹é€™é‚Š
```js
  theme: defaultTheme({
    logo: "feather.png", // é€™å€‹æª”æ¡ˆè¢«æ”¾åœ¨docs/.vuepress/public/ ä¸‹æ–¹
    notFound: ["æŸ¥ç„¡è·¯å¾‘"],
```

## 4. ä¿®æ”¹Sidebar+è‡ªå‹•è®€å–ç›®éŒ„ä¸­çš„mdæª”æ¡ˆ
é€™é‚Šæœ‰é»å°è¤‡é›œ..
```js
    let pageFiles = glob
    .sync("docs/page/**/*.md") // æƒ³è®€å–çš„ç›®éŒ„ï¼Œå¾å°ˆæ¡ˆç›®éŒ„é–‹å§‹
    .map((f) => f.replace("docs", "").replace("index.md", ""));
    
  // theme and its config
    theme: defaultTheme({
        // logoè·Ÿé ­éƒ¨æ¬„é‚£äº›è¨­å®šï¼Œç•¥...,
        sidebar: { // å´æ¬„
            '/': [
                {
                    text: "æ–‡ç« ",
                    children: pageFiles,
                },
            ],
        },
    }), 
```
é¡¯ç¤ºæ•ˆæœï¼š
```
æ–‡ç« 
    20240820 Vuepressé…ç½®èˆ‡å­¸ç¿’1
```
ä»–é€™å€‹å´æ¬„å¦‚æœæ²’æœ‰é¡å¤–è¨­å®šï¼Œæœƒè‡ªå·±æŠŠmarkdownæª”æ¡ˆçš„ç¬¬ä¸€å€‹H1ä½œç‚ºå´æ¬„ä¸­çš„é€£çµåç¨±ï¼ŒæŒºå¥½çš„

ä¸éå¦‚æœæƒ³è¦æ›´è¤‡é›œçš„ç›®éŒ„çµæ§‹å¯èƒ½è¦å†åƒè€ƒå®˜æ–¹æ–‡ä»¶æˆ–ä¸€äº›[ç¶²è·¯æ•™å­¸](https://blog.csdn.net/sinat_31213021/article/details/113384808)

>ğŸ’¡ ä¸éå¦‚æœä¹‹å¾Œé€™å€‹ç¶²ç«™è‹¥åªæ˜¯æƒ³ä¾ç…§å„å€‹è³‡æ–™å¤¾åˆ†å€é¡¯ç¤ºï¼ˆèˆ‰ä¾‹åƒPythonä¸€å€Laravelä¸€å€é€™æ¨£ï¼‰ï¼Œ\
>è²Œä¼¼é€éä¸Šæ–¹ä»£ç¢¼å¡Šçš„å…§å®¹æ”¹å¯«è§£æ±º

## 5. åšå®Œä»¥ä¸Šå¹¾é»æœ€çµ‚ç›®éŒ„çµæ§‹
å¯ä»¥åƒè€ƒ[æœ¬ç«™GitHubå„²è—åº«ä¸Šdocsç›®éŒ„](https://github.com/x200706/CrystalVuepress/tree/main/docs)

ä¸éä¹‹å¾Œé‚„æœƒå†æ”¹è®Šï¼Œå¯èƒ½å±†æ™‚æœƒæœ‰è½å·®

## 6. ä¿®æ”¹ä¸»é¡Œé…è‰²
ä¿®æ”¹`docs/.vuepress/styles/index.scss`é€™å€‹æª”æ¡ˆ

æ‡¶äººé…è‰²æ”¹æ³•ï¼šæ‰“é–‹F12é–‹ç™¼è€…å·¥å…·ï¼Œè¤‡è£½è·Ÿé…è‰²æœ‰é—œçš„CSSè®Šæ•¸ï¼ŒæŠŠå®ƒè²¼éä¾†ç„¶å¾Œè‡ªå·±æ”¹é¡è‰²

ä¾‹å¦‚ï¼š
```css
.footer,
.push {
  height: 50px;
}

.center {
  // to align center in Firefox, -webkit-center is not recognized in Firefox
  // The order matters
  text-align: center;
  text-align: -webkit-center;
}

.spaced {
  padding-bottom: 1rem;
}

html.dark {
  --c-brand: #b2a5e5;
  --c-brand-light: #b2a5e5;
  --c-bg: #22272e;
  --c-bg-light: #2b313a;
  --c-bg-lighter: #262c34;
  --c-bg-dark: #343b44;
  --c-bg-darker: #37404c;
  --c-text: #adbac7;
  --c-text-light: #96a7b7;
  --c-text-lighter: #8b9eb0;
  --c-text-lightest: #8094a8;
  --c-border: #3e4c5a;
  --c-border-dark: #34404c;
  --c-tip: #b2a5e5;
  --c-warning: #e0ad15;
  --c-warning-bg: #2d2f2d;
  --c-warning-bg-light: #423e2a;
  --c-warning-bg-lighter: #44442f;
  --c-warning-border-dark: #957c35;
  --c-warning-details-bg: #39392d;
  --c-warning-title: #fdca31;
  --c-warning-text: #d8d96d;
  --c-warning-text-accent: #ffbf00;
  --c-warning-text-light: #ddb84b;
  --c-warning-text-quote: #ccab49;
  --c-danger: #fc1e38;
  --c-danger-bg: #39232c;
  --c-danger-bg-light: #4b2b35;
  --c-danger-bg-lighter: #553040;
  --c-danger-border-dark: #a25151;
  --c-danger-details-bg: #482936;
  --c-danger-title: #fc2d3b;
  --c-danger-text: #ea9ca0;
  --c-danger-text-accent: #fd3636;
  --c-danger-text-light: #d9777c;
  --c-danger-text-quote: #d56b6b;
  --c-details-bg: #323843;
  --c-badge-warning: var(--c-warning);
  --c-badge-warning-text: #3c2e05;
  --c-badge-danger: var(--c-danger);
  --c-badge-danger-text: #401416;
  --code-hl-bg-color: #363b46;
}
:root {
  --back-to-top-z-index: 5;
  --back-to-top-color: #b2a5e5;
  --back-to-top-color-hover: #b2a5e5;
}
:root {
  --search-bg-color: #ffffff;
  --search-accent-color: #b2a5e5;
  --search-text-color: #2c3e50;
  --search-border-color: #eaecef;
  --search-item-text-color: #5d81a5;
  --search-item-focus-bg-color: #f3f4f5;
  --search-input-width: 8rem;
  --search-result-width: 20rem;
}
```
ä¸éé€™æ¨£ä¹Ÿåªæœ‰æ”¹åˆ°æ·±è‰²æ¨¡å¼çš„é…è‰²å°±æ˜¯äº†

ä¹‹å¾Œè‹¥æœ‰å…¶ä»–é…ç½®ä¿®æ”¹ï¼Œæœƒå¦é–‹æ–°ç¯‡è¨˜è¼‰